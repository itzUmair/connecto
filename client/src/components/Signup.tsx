import { useState } from "react";
import AuthenticationForm from "./AuthenticationForm";
import PersonalDataForm from "./PersonalDataForm";
import AccountCreation from "./AccountCreation";
import * as Types from "../Types";

const Signup = () => {
  const [authData, setAuthData] = useState<Types.AuthenticationForm>({
    email: "",
    password: "",
  });

  const [personData, setPersonData] = useState<Types.PersonalDataForm>({
    fname: "",
    mname: "",
    lname: "",
    city: "",
    country: "",
    dob: new Date("2000-01-01"),
    interest: [],
  });

  const [page, setPage] = useState<number>(1);

  return (
    <div className="px-4 pt-8 text-content">
      <svg
        width="120"
        height="53"
        viewBox="0 0 200 53"
        className="mx-auto"
        fill="currentColor"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M13.016 52.568C9.98667 52.568 7.53333 51.8 5.656 50.264C3.82133 48.7707 2.47733 46.8293 1.624 44.44C0.813333 42.0507 0.408 39.5547 0.408 36.952C0.408 33.5813 0.92 30.1893 1.944 26.776C2.968 23.3627 4.35467 20.12 6.104 17.048C7.896 13.9333 9.92267 11.1813 12.184 8.792C14.4453 6.36 16.8133 4.46133 19.288 3.096C21.8053 1.688 24.28 0.983997 26.712 0.983997C28.4613 0.983997 29.8693 1.41066 30.936 2.264C32.0453 3.07467 32.6 4.48267 32.6 6.488C32.6 7.72533 32.3867 9.13333 31.96 10.712C31.5333 12.248 30.9573 13.7413 30.232 15.192C29.5067 16.6 28.696 17.7733 27.8 18.712C26.9467 19.6507 26.072 20.12 25.176 20.12C24.8347 20.12 24.472 20.0133 24.088 19.8C23.7467 19.5867 23.448 19.2027 23.192 18.648C23.832 17.9227 24.536 17.0267 25.304 15.96C26.1147 14.8507 26.8827 13.6987 27.608 12.504C28.3333 11.2667 28.9093 10.072 29.336 8.92C29.8053 7.72533 30.04 6.68 30.04 5.784C30.04 4.93066 29.784 4.248 29.272 3.736C28.8027 3.18133 28.0133 2.904 26.904 2.904C25.0693 2.904 23.1493 3.65067 21.144 5.144C19.1813 6.63733 17.2613 8.64267 15.384 11.16C13.5493 13.6347 11.8853 16.408 10.392 19.48C8.89867 22.552 7.704 25.688 6.808 28.888C5.95467 32.088 5.528 35.1387 5.528 38.04C5.528 40.1307 5.82667 42.136 6.424 44.056C7.02133 45.9333 7.98133 47.448 9.304 48.6C10.6693 49.7947 12.4187 50.392 14.552 50.392C16.8133 50.392 19.0533 49.752 21.272 48.472C23.5333 47.192 25.6027 45.5067 27.48 43.416C29.3573 41.3253 30.8507 39.064 31.96 36.632L32.856 37.272C31.448 40.0453 29.7413 42.6053 27.736 44.952C25.7307 47.256 23.4907 49.0907 21.016 50.456C18.5413 51.864 15.8747 52.568 13.016 52.568ZM35.041 49.048C33.2063 49.048 31.905 48.472 31.137 47.32C30.369 46.2107 29.985 44.8453 29.985 43.224C29.985 41.9013 30.1983 40.536 30.625 39.128C31.0517 37.72 31.6063 36.3973 32.289 35.16C33.0143 33.9227 33.8037 32.92 34.657 32.152C35.553 31.384 36.449 31 37.345 31C37.5583 31 37.7717 31.0427 37.985 31.128C38.241 31.1707 38.4757 31.2347 38.689 31.32C38.305 31.6613 37.8357 32.3013 37.281 33.24C36.769 34.136 36.2783 35.1813 35.809 36.376C35.3397 37.528 34.9343 38.68 34.593 39.832C34.2943 40.984 34.145 41.9653 34.145 42.776C34.145 44.056 34.3583 44.9947 34.785 45.592C35.2117 46.1467 35.7663 46.424 36.449 46.424C37.345 46.424 38.4117 45.9547 39.649 45.016C40.8863 44.0347 42.1023 42.7973 43.297 41.304C42.1023 40.3227 41.1637 39.0427 40.481 37.464C39.841 35.8427 39.521 34.2 39.521 32.536C39.521 31.128 39.7557 29.8053 40.225 28.568C40.737 27.3307 41.4623 26.3493 42.401 25.624C43.3397 24.856 44.4703 24.472 45.793 24.472C47.5423 24.472 48.7157 24.9413 49.313 25.88C49.9103 26.8187 50.209 27.992 50.209 29.4C50.209 31.064 49.8037 32.92 48.993 34.968C48.1823 36.9733 47.1583 38.9147 45.921 40.792C46.689 41.2187 47.4997 41.432 48.353 41.432C49.0357 41.432 49.8037 41.304 50.657 41.048C51.5103 40.7493 52.3423 40.2587 53.153 39.576C54.0063 38.8933 54.689 37.976 55.201 36.824L55.969 37.464C55.1157 39.4693 53.8997 40.8987 52.321 41.752C50.785 42.5627 49.313 42.968 47.905 42.968C47.3503 42.968 46.817 42.9253 46.305 42.84C45.793 42.712 45.3023 42.5413 44.833 42.328C43.3823 44.248 41.7823 45.848 40.033 47.128C38.3263 48.408 36.6623 49.048 35.041 49.048ZM44.449 39.64C45.5157 38.0613 46.3903 36.4187 47.073 34.712C47.7983 32.9627 48.161 31.32 48.161 29.784C48.161 28.5467 47.969 27.6507 47.585 27.096C47.2437 26.4987 46.7957 26.2 46.241 26.2C45.3877 26.2 44.513 26.8187 43.617 28.056C42.721 29.2933 42.273 30.8507 42.273 32.728C42.273 33.9653 42.4437 35.224 42.785 36.504C43.169 37.7413 43.7237 38.7867 44.449 39.64ZM74.672 48.28C73.1787 48.28 72.048 47.896 71.28 47.128C70.5547 46.36 70.192 45.3787 70.192 44.184C70.192 43.288 70.3413 42.3493 70.64 41.368C70.9813 40.3867 71.3013 39.384 71.6 38.36C71.8987 37.2933 72.048 36.2693 72.048 35.288C72.048 34.0933 71.792 33.2827 71.28 32.856C70.8107 32.3867 70.2133 32.152 69.488 32.152C68.1653 32.152 66.8213 32.7067 65.456 33.816C64.0907 34.8827 62.768 36.2693 61.488 37.976C60.208 39.64 59.0133 41.368 57.904 43.16C56.7947 44.952 55.8133 46.552 54.96 47.96C54.2773 47.96 53.6373 47.832 53.04 47.576C52.4 47.3627 51.9093 47.0213 51.568 46.552C51.568 46.3387 51.8027 45.6773 52.272 44.568C52.6987 43.4587 53.2107 42.0933 53.808 40.472C54.4053 38.8507 54.9387 37.1867 55.408 35.48C55.8773 33.7733 56.112 32.216 56.112 30.808C56.368 30.5093 56.7733 30.2107 57.328 29.912C57.8827 29.6133 58.4587 29.464 59.056 29.464C60.208 29.464 60.784 30.0187 60.784 31.128C60.784 31.8107 60.592 32.9627 60.208 34.584C59.824 36.1627 59.3333 37.8267 58.736 39.576C59.888 37.8267 61.168 36.0987 62.576 34.392C64.0267 32.6427 65.5627 31.192 67.184 30.04C68.8053 28.888 70.4267 28.312 72.048 28.312C73.712 28.312 74.9067 28.9093 75.632 30.104C76.4 31.2987 76.784 32.6213 76.784 34.072C76.784 35.3947 76.5707 36.632 76.144 37.784C75.7173 38.8933 75.2693 39.9813 74.8 41.048C74.3733 42.072 74.16 43.1173 74.16 44.184C74.16 45.08 74.3307 45.72 74.672 46.104C75.056 46.4453 75.5253 46.616 76.08 46.616C77.1467 46.616 78.2133 46.1253 79.28 45.144C80.3467 44.12 81.3707 42.84 82.352 41.304C83.376 39.768 84.272 38.2107 85.04 36.632L85.744 37.464C84.848 39.5547 83.8453 41.4107 82.736 43.032C81.6267 44.6533 80.4107 45.9333 79.088 46.872C77.7653 47.8107 76.2933 48.28 74.672 48.28ZM104.485 48.28C102.991 48.28 101.861 47.896 101.093 47.128C100.367 46.36 100.005 45.3787 100.005 44.184C100.005 43.288 100.154 42.3493 100.453 41.368C100.794 40.3867 101.114 39.384 101.413 38.36C101.711 37.2933 101.861 36.2693 101.861 35.288C101.861 34.0933 101.605 33.2827 101.093 32.856C100.623 32.3867 100.026 32.152 99.3005 32.152C97.9778 32.152 96.6338 32.7067 95.2685 33.816C93.9032 34.8827 92.5805 36.2693 91.3005 37.976C90.0205 39.64 88.8258 41.368 87.7165 43.16C86.6072 44.952 85.6258 46.552 84.7725 47.96C84.0898 47.96 83.4498 47.832 82.8525 47.576C82.2125 47.3627 81.7218 47.0213 81.3805 46.552C81.3805 46.3387 81.6152 45.6773 82.0845 44.568C82.5112 43.4587 83.0232 42.0933 83.6205 40.472C84.2178 38.8507 84.7512 37.1867 85.2205 35.48C85.6898 33.7733 85.9245 32.216 85.9245 30.808C86.1805 30.5093 86.5858 30.2107 87.1405 29.912C87.6952 29.6133 88.2712 29.464 88.8685 29.464C90.0205 29.464 90.5965 30.0187 90.5965 31.128C90.5965 31.8107 90.4045 32.9627 90.0205 34.584C89.6365 36.1627 89.1458 37.8267 88.5485 39.576C89.7005 37.8267 90.9805 36.0987 92.3885 34.392C93.8392 32.6427 95.3752 31.192 96.9965 30.04C98.6178 28.888 100.239 28.312 101.861 28.312C103.525 28.312 104.719 28.9093 105.445 30.104C106.213 31.2987 106.597 32.6213 106.597 34.072C106.597 35.3947 106.383 36.632 105.957 37.784C105.53 38.8933 105.082 39.9813 104.613 41.048C104.186 42.072 103.973 43.1173 103.973 44.184C103.973 45.08 104.143 45.72 104.485 46.104C104.869 46.4453 105.338 46.616 105.893 46.616C106.959 46.616 108.026 46.1253 109.093 45.144C110.159 44.12 111.183 42.84 112.165 41.304C113.189 39.768 114.085 38.2107 114.853 36.632L115.557 37.464C114.661 39.5547 113.658 41.4107 112.549 43.032C111.439 44.6533 110.223 45.9333 108.901 46.872C107.578 47.8107 106.106 48.28 104.485 48.28ZM120.537 49.816C117.934 49.816 115.972 49.0907 114.649 47.64C113.369 46.232 112.729 44.4827 112.729 42.392C112.729 40.472 113.198 38.4453 114.137 36.312C115.118 34.1787 116.398 32.1733 117.977 30.296C119.598 28.4187 121.369 26.904 123.289 25.752C125.209 24.5573 127.108 23.96 128.985 23.96C129.966 23.96 130.862 24.216 131.673 24.728C132.526 25.24 132.953 26.2853 132.953 27.864C132.953 29.4853 132.462 31.0213 131.481 32.472C130.542 33.88 129.284 35.1387 127.705 36.248C126.169 37.3573 124.462 38.2747 122.585 39C120.75 39.6827 118.916 40.1093 117.081 40.28C116.996 40.7067 116.932 41.112 116.889 41.496C116.846 41.88 116.825 42.2427 116.825 42.584C116.825 43.224 116.889 43.864 117.017 44.504C117.188 45.144 117.465 45.7413 117.849 46.296C118.233 46.808 118.745 47.2133 119.385 47.512C120.068 47.8107 120.9 47.96 121.881 47.96C123.716 47.96 125.529 47.448 127.321 46.424C129.113 45.3573 130.777 43.9707 132.313 42.264C133.849 40.5573 135.15 38.68 136.217 36.632L136.985 37.208C135.833 39.768 134.361 41.9867 132.569 43.864C130.82 45.7413 128.9 47.192 126.809 48.216C124.761 49.2827 122.67 49.816 120.537 49.816ZM117.401 39.064C118.553 38.68 119.854 38.1253 121.305 37.4C122.756 36.632 124.142 35.736 125.465 34.712C126.83 33.688 127.94 32.5573 128.793 31.32C129.689 30.0827 130.137 28.7813 130.137 27.416C130.137 26.9467 130.052 26.584 129.881 26.328C129.71 26.072 129.348 25.944 128.793 25.944C127.769 25.944 126.681 26.3493 125.529 27.16C124.377 27.928 123.268 28.952 122.201 30.232C121.134 31.512 120.174 32.92 119.321 34.456C118.468 35.992 117.828 37.528 117.401 39.064ZM141.786 50.584C139.738 50.584 138.031 49.9013 136.666 48.536C135.3 47.1707 134.617 45.1227 134.617 42.392C134.617 40.2587 135.023 38.1893 135.834 36.184C136.687 34.136 137.796 32.3013 139.161 30.68C140.527 29.0587 142.042 27.7787 143.706 26.84C145.37 25.8587 147.012 25.368 148.634 25.368C150.383 25.368 151.578 25.88 152.218 26.904C152.858 27.928 153.178 28.9947 153.178 30.104C153.178 31.3413 152.879 32.4293 152.282 33.368C151.727 34.3067 150.959 34.776 149.978 34.776C149.252 34.776 148.634 34.456 148.122 33.816C148.762 33.4747 149.316 32.792 149.786 31.768C150.255 30.7013 150.49 29.6987 150.49 28.76C150.49 28.248 150.383 27.864 150.17 27.608C149.999 27.3093 149.636 27.16 149.082 27.16C147.93 27.16 146.735 27.672 145.498 28.696C144.303 29.72 143.172 31.0427 142.106 32.664C141.082 34.2853 140.228 35.992 139.546 37.784C138.906 39.576 138.586 41.2613 138.586 42.84C138.586 44.1627 138.906 45.3787 139.546 46.488C140.186 47.5973 141.423 48.152 143.258 48.152C144.964 48.152 146.671 47.6827 148.378 46.744C150.127 45.8053 151.748 44.4613 153.242 42.712C154.735 40.9627 155.93 38.9147 156.826 36.568L157.658 37.208C156.676 39.768 155.332 42.072 153.626 44.12C151.919 46.1253 150.042 47.704 147.994 48.856C145.946 50.008 143.876 50.584 141.786 50.584ZM161.065 49.944C159.23 49.944 157.822 49.4107 156.841 48.344C155.86 47.2773 155.369 45.6987 155.369 43.608C155.369 41.7307 155.71 39.4267 156.393 36.696C157.118 33.9227 158.014 31.0853 159.081 28.184C158.654 28.0987 158.249 28.0347 157.865 27.992C157.481 27.9067 157.118 27.8 156.777 27.672V26.52C157.118 26.5627 157.524 26.6053 157.993 26.648C158.462 26.6907 158.996 26.7333 159.593 26.776C160.489 24.472 161.449 22.2533 162.473 20.12C163.497 17.944 164.5 16.024 165.481 14.36C166.505 12.6533 167.465 11.3093 168.361 10.328C169.3 9.304 170.089 8.792 170.729 8.792C171.07 8.792 171.369 8.92 171.625 9.176C171.924 9.38933 172.073 9.73066 172.073 10.2C172.073 10.9253 171.625 12.12 170.729 13.784C169.833 15.4053 168.724 17.3467 167.401 19.608C166.078 21.8693 164.798 24.3227 163.561 26.968C163.945 26.968 164.329 26.968 164.713 26.968C165.14 26.968 165.545 26.968 165.929 26.968C167.337 26.968 168.809 26.9467 170.345 26.904C171.924 26.8613 173.502 26.7547 175.081 26.584V27.736C172.734 27.992 170.622 28.184 168.745 28.312C166.91 28.44 165.268 28.504 163.817 28.504C163.646 28.504 163.476 28.504 163.305 28.504C163.177 28.504 163.028 28.504 162.857 28.504C161.876 30.7653 161.044 33.0907 160.361 35.48C159.678 37.8693 159.337 40.1947 159.337 42.456C159.337 44.2907 159.614 45.6133 160.169 46.424C160.724 47.192 161.641 47.576 162.921 47.576C165.14 47.576 167.316 46.5947 169.449 44.632C171.582 42.6693 173.46 40.0027 175.081 36.632L175.913 37.272C174.889 39.6613 173.588 41.816 172.009 43.736C170.473 45.656 168.766 47.1707 166.889 48.28C165.012 49.3893 163.07 49.944 161.065 49.944ZM178.291 49.048C176.456 49.048 175.155 48.472 174.387 47.32C173.619 46.2107 173.235 44.8453 173.235 43.224C173.235 41.9013 173.448 40.536 173.875 39.128C174.302 37.72 174.856 36.3973 175.539 35.16C176.264 33.9227 177.054 32.92 177.907 32.152C178.803 31.384 179.699 31 180.595 31C180.808 31 181.022 31.0427 181.235 31.128C181.491 31.1707 181.726 31.2347 181.939 31.32C181.555 31.6613 181.086 32.3013 180.531 33.24C180.019 34.136 179.528 35.1813 179.059 36.376C178.59 37.528 178.184 38.68 177.843 39.832C177.544 40.984 177.395 41.9653 177.395 42.776C177.395 44.056 177.608 44.9947 178.035 45.592C178.462 46.1467 179.016 46.424 179.699 46.424C180.595 46.424 181.662 45.9547 182.899 45.016C184.136 44.0347 185.352 42.7973 186.547 41.304C185.352 40.3227 184.414 39.0427 183.731 37.464C183.091 35.8427 182.771 34.2 182.771 32.536C182.771 31.128 183.006 29.8053 183.475 28.568C183.987 27.3307 184.712 26.3493 185.651 25.624C186.59 24.856 187.72 24.472 189.043 24.472C190.792 24.472 191.966 24.9413 192.563 25.88C193.16 26.8187 193.459 27.992 193.459 29.4C193.459 31.064 193.054 32.92 192.243 34.968C191.432 36.9733 190.408 38.9147 189.171 40.792C189.939 41.2187 190.75 41.432 191.603 41.432C192.286 41.432 193.054 41.304 193.907 41.048C194.76 40.7493 195.592 40.2587 196.403 39.576C197.256 38.8933 197.939 37.976 198.451 36.824L199.219 37.464C198.366 39.4693 197.15 40.8987 195.571 41.752C194.035 42.5627 192.563 42.968 191.155 42.968C190.6 42.968 190.067 42.9253 189.555 42.84C189.043 42.712 188.552 42.5413 188.083 42.328C186.632 44.248 185.032 45.848 183.283 47.128C181.576 48.408 179.912 49.048 178.291 49.048ZM187.699 39.64C188.766 38.0613 189.64 36.4187 190.323 34.712C191.048 32.9627 191.411 31.32 191.411 29.784C191.411 28.5467 191.219 27.6507 190.835 27.096C190.494 26.4987 190.046 26.2 189.491 26.2C188.638 26.2 187.763 26.8187 186.867 28.056C185.971 29.2933 185.523 30.8507 185.523 32.728C185.523 33.9653 185.694 35.224 186.035 36.504C186.419 37.7413 186.974 38.7867 187.699 39.64Z"
          fill="currentColor"
        />
      </svg>

      <h1 className="font-bold w-fit mx-auto text-transparent text-3xl text-center bg-gradient-to-r from-gradient-1 to-gradient-2 bg-clip-text">
        Create Account
      </h1>
      <div className="my-4">
        <div className="flex">
          <span className="flex flex-col w-full items-center justify-center">
            <p className="text-xs border-2 border-content rounded-full w-[1.1rem] h-[1.1rem] text-content text-center font-bold">
              1
            </p>
            <p className="text-xs text-content">About you</p>
          </span>
          <span className="flex flex-col w-full items-center justify-center">
            <p className="text-xs border-2 border-content rounded-full w-[1.1rem] h-[1.1rem] text-content text-center font-bold">
              2
            </p>
            <p className="text-xs text-content">Authentication</p>
          </span>
          <span className="flex flex-col w-full items-center justify-center">
            <p className="text-xs border-2 border-content rounded-full w-[1.1rem] h-[1.1rem] text-content text-center font-bold">
              3
            </p>
            <p className="text-xs text-content">Account</p>
          </span>
        </div>
        <div
          className={`h-1 ${
            page === 1 ? "w-2/12" : page === 2 ? "w-6/12" : "w-10/12"
          } bg-gradient-to-r from-gradient-1 to-gradient-2 origin-left rounded-full transition-all duration-500`}
        ></div>
      </div>
      {page === 1 && (
        <PersonalDataForm
          personData={personData}
          setPersonData={setPersonData}
          setPage={setPage}
        />
      )}
      {page === 2 && (
        <AuthenticationForm
          authData={authData}
          personalData={personData}
          setAuthData={setAuthData}
          setPage={setPage}
        />
      )}
      {page === 3 && <AccountCreation />}
      {page !== 3 && (
        <div className="pb-8">
          <p className="text-content text-center">
            Already have an account? &nbsp;
            <a
              href="/signin"
              className="underline underline-offset-1 text-primary font-bold font-lg"
            >
              Sign in
            </a>
          </p>
        </div>
      )}
    </div>
  );
};

export default Signup;
